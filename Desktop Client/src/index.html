<!DOCTYPE html>
<!--This is the starting point of the desktop client development-->
<html>
  <head>
    <meta charset="UTF-8">
    <title>Project Prime</title>
    <!--Linking the html file to the css file-->
    <link href="./index.css" type="text/css" rel="stylesheet">
  </head>
  <body>
    <h1 id="desktop_client_name">Project Prime Desktop</h1>
    <div class="row">
      <!--A list of buttons that display or manipulate files in some manner-->
      <div class="column left" style="background-color:dodgerblue">
          <div class="btn-group">
              <!--A button that uploads files onto the server-->
              <button id = "btn-uploadfile">Upload File</button>
              
              <!--A button that removes files from the server-->
              <button>Delete File</button>
              
              <!--Upon being pressed, the file can be shared with
              other users-->
              <button>Share File</button>
              
              <!--Button that allows uploading of a local folder
              into the remote server-->
              <button>Upload Folder</button>
              
              <!--Button that removes folder from server upon being
              pressed-->
              <button>Delete Folder</button>
            </div>
            <br>
            <br>
            <div class="btn-group">
              
              <!--Button that shows files that were recently shared-->
              <button>Recently Shared</button>
              
              <!--Button that shows a list of deleted files-->
              <button>Show Deleted Files</button>
            </div>
      </div>
      <!--This section will display the files stored in the remote server-->
      <div class="column middle" style="background-color:white">
          <h2><u>Files</u></h2>
      </div>
    </div>
    <script>
      // Shows the dialog and enables file manipulation
      const fs = require('fs');
      // Handles CRUD (Create Read Update & Delete) operations
      var app = require('electron').remote;
      // The dialog box
      var dialog = app.dialog;
      
      // Once the upload file button is pressed...
      document.getElementById("btn-uploadfile").addEventListener("click", () => {
        // Open dialog box to select files
        dialog.showOpenDialog((filenames) => {
          // Inform user that no files were chosen
          if(filenames == undefined){
            console.log("no files were selected");
            return;
          }

          fs.readFile(filenames[0], "utf-8", (err,data) => {
            if(err){
              console.log("cannot read file", err);
              return;
            }
            // Recieving file content
            console.log("The content of the file is : ");
            console.log(data);

          });
        });
      },false);

    </script>

  </body>
</html>
